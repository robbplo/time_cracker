[gd_scene load_steps=30 format=3 uid="uid://bncxo1en36gny"]

[ext_resource type="PackedScene" uid="uid://22hjgugr4bg3" path="res://Entities/Player/player.tscn" id="1_6l7b2"]
[ext_resource type="Script" path="res://Levels/Sandbox3d/camera_3d.gd" id="2_i26il"]
[ext_resource type="Script" path="res://Entities/Player/Player.gd" id="2_r70oy"]
[ext_resource type="PackedScene" uid="uid://myvhnl1u57q5" path="res://Levels/GodotLevel_scrapyard.tscn" id="3_qgrji"]
[ext_resource type="CompressedTexture3D" uid="uid://qqbbsga58bj0" path="res://Experiments/Octogenesis_LUT.png" id="3_slsor"]
[ext_resource type="Script" path="res://addons/proton_scatter/src/scatter.gd" id="4_ybk7l"]
[ext_resource type="Script" path="res://addons/proton_scatter/src/stack/modifier_stack.gd" id="5_oe76j"]
[ext_resource type="Script" path="res://addons/proton_scatter/src/modifiers/base_modifier.gd" id="6_o0rb2"]
[ext_resource type="Script" path="res://addons/proton_scatter/src/modifiers/create_inside_grid.gd" id="7_g4sgt"]
[ext_resource type="Script" path="res://addons/proton_scatter/src/modifiers/randomize_transforms.gd" id="8_lq4pl"]
[ext_resource type="Script" path="res://addons/proton_scatter/src/modifiers/relax.gd" id="9_rlgbr"]
[ext_resource type="Script" path="res://addons/proton_scatter/src/modifiers/project_on_geometry.gd" id="10_qqr5x"]
[ext_resource type="Script" path="res://addons/proton_scatter/src/scatter_item.gd" id="11_7hpmg"]
[ext_resource type="Script" path="res://addons/proton_scatter/src/scatter_shape.gd" id="12_nuyf4"]
[ext_resource type="Script" path="res://addons/proton_scatter/src/shapes/box_shape.gd" id="13_rp2b5"]
[ext_resource type="Script" path="res://Engine/TimedAnimation.gd" id="14_jt7jk"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_k5122"]
ground_bottom_color = Color(0.116904, 0.195091, 0.151804, 1)
ground_horizon_color = Color(0.487418, 0.715658, 0.585581, 1)

[sub_resource type="Sky" id="Sky_iia68"]
sky_material = SubResource("ProceduralSkyMaterial_k5122")

[sub_resource type="Environment" id="Environment_exrdt"]
background_mode = 2
sky = SubResource("Sky_iia68")
sky_custom_fov = 72.2
adjustment_enabled = true
adjustment_color_correction = ExtResource("3_slsor")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_plr41"]
albedo_color = Color(0.706539, 0.887321, 0.661792, 1)

[sub_resource type="Resource" id="Resource_jmp25"]
script = ExtResource("7_g4sgt")
spacing = Vector3(5, 0.05, 5)
enabled = true
override_global_seed = false
custom_seed = 0
restrict_height = true
reference_frame = 0

[sub_resource type="Resource" id="Resource_vp1gx"]
script = ExtResource("8_lq4pl")
position = Vector3(2.08165e-12, 2.08165e-12, 2.08165e-12)
rotation = Vector3(2.08165e-12, 2.08165e-12, 2.08165e-12)
scale = Vector3(2.08165e-12, 2.08165e-12, 2.08165e-12)
enabled = true
override_global_seed = false
custom_seed = 1
restrict_height = false
reference_frame = 2

[sub_resource type="Resource" id="Resource_1camb"]
script = ExtResource("9_rlgbr")
iterations = 0
offset_step = 2.08167e-15
consecutive_step_multiplier = 0.75
use_computeshader = true
enabled = true
override_global_seed = false
custom_seed = 0
restrict_height = true
reference_frame = 0

[sub_resource type="Resource" id="Resource_qgo7b"]
script = ExtResource("10_qqr5x")
ray_direction = Vector3(2.08165e-12, -1, 2.08165e-12)
ray_length = 30.0
ray_offset = 5.0
remove_points_on_miss = false
align_with_collision_normal = false
max_slope = 90.0
collision_mask = 3
exclude_mask = 2
enabled = true
override_global_seed = false
custom_seed = 0
restrict_height = false
reference_frame = 0

[sub_resource type="Resource" id="Resource_ilmfg"]
script = ExtResource("5_oe76j")
stack = Array[ExtResource("6_o0rb2")]([SubResource("Resource_jmp25"), SubResource("Resource_vp1gx"), SubResource("Resource_1camb"), SubResource("Resource_qgo7b")])

[sub_resource type="Resource" id="Resource_6qveq"]
script = ExtResource("13_rp2b5")
size = Vector3(420, 1, 420)

[sub_resource type="Animation" id="Animation_bp7ei"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SubViewportContainer/SubViewport/ProtonScatter/ScatterItem:proportion")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [100]
}

[sub_resource type="Animation" id="Animation_af8gd"]
resource_name = "Scatter_timed"
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SubViewportContainer/SubViewport/ProtonScatter/ScatterItem:proportion")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0001, 0.5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [100, 100, 150]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_voq83"]
_data = {
"RESET": SubResource("Animation_bp7ei"),
"Scatter_timed": SubResource("Animation_af8gd")
}

[node name="Sandbox3D" type="Node3D"]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true
stretch_shrink = 2

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(576, 324)
render_target_update_mode = 4

[node name="Player" parent="SubViewportContainer/SubViewport" instance=ExtResource("1_6l7b2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.97356, 0)
script = ExtResource("2_r70oy")

[node name="Sprite3D" parent="SubViewportContainer/SubViewport/Player" index="0"]
transform = Transform3D(4.489, -2.34856e-15, 1.35594e-15, 1.35594e-15, 3.88759, 2.2445, -2.34856e-15, -2.2445, 3.88759, 0.0220408, 1, 0.0288499)
billboard = 0

[node name="AnimationTree" parent="SubViewportContainer/SubViewport/Player" index="2"]
parameters/current_position = 0.0261032
parameters/current_delta = 0.0133333
parameters/Idle/current_position = 0.0261032
parameters/Idle/current_delta = 0.0133333
parameters/Idle/0/current_position = 0.0261032
parameters/Idle/0/current_delta = 0.0133333

[node name="Camera3D" type="Camera3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, -5.2318e-16, 3.02058e-16, 3.02058e-16, 0.866025, 0.5, -5.2318e-16, -0.5, 0.866025, 2.08165e-12, 10, 10)
visible = false
projection = 1
current = true
fov = 90.0
size = 15.0
script = ExtResource("2_i26il")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 0.40629, 0.913744, 0, -0.913744, 0.40629, 0.243469, 17.4507, 8.16703)

[node name="WorldEnvironment" type="WorldEnvironment" parent="SubViewportContainer/SubViewport"]
environment = SubResource("Environment_exrdt")

[node name="CSGBox3D" type="CSGBox3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.09439, -0.05, 4.28754)
visible = false
use_collision = true
size = Vector3(25.0668, 0.1, 32.9772)
material = SubResource("StandardMaterial3D_plr41")

[node name="GodotLevelExperiment" parent="SubViewportContainer/SubViewport" instance=ExtResource("3_qgrji")]

[node name="ProtonScatter" type="Node3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 158.431, 2.08165e-12, -136.606)
script = ExtResource("4_ybk7l")
enable_updates_in_game = true
modifier_stack = SubResource("Resource_ilmfg")
Performance/use_chunks = true
Performance/chunk_dimensions = Vector3(15, 15, 15)

[node name="ScatterItem" type="Node3D" parent="SubViewportContainer/SubViewport/ProtonScatter"]
script = ExtResource("11_7hpmg")
path = "res://addons/proton_scatter/demos/assets/brick.tscn"

[node name="ScatterShape" type="Node3D" parent="SubViewportContainer/SubViewport/ProtonScatter"]
transform = Transform3D(1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, 1, 0, 0, 0)
script = ExtResource("12_nuyf4")
shape = SubResource("Resource_6qveq")

[node name="TimedAnimation" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_voq83")
}
autoplay = "Scatter_timed"
script = ExtResource("14_jt7jk")

[editable path="SubViewportContainer/SubViewport/Player"]
