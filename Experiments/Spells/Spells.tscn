[gd_scene load_steps=12 format=3 uid="uid://wbdwm2s1b34v"]

[ext_resource type="Script" path="res://Experiments/Spells/Spells.gd" id="1_5bb8a"]
[ext_resource type="AudioStream" uid="uid://mdc7x0h17tfn" path="res://Music/Track_DelendNoIntro112.mp3" id="1_tkckc"]
[ext_resource type="PackedScene" uid="uid://sq3rdwlwe0ej" path="res://Engine/meter.tscn" id="4_3d11i"]
[ext_resource type="Script" path="res://Experiments/Spells/force_push.gd" id="4_54giv"]
[ext_resource type="PackedScene" uid="uid://22hjgugr4bg3" path="res://Entities/Player/player.tscn" id="5_07648"]
[ext_resource type="Script" path="res://Experiments/Spells/spike.gd" id="5_j71lg"]
[ext_resource type="Script" path="res://Experiments/Spells/projectile.gd" id="6_42axd"]
[ext_resource type="PackedScene" uid="uid://6ugc0tg5jb2e" path="res://Entities/SmallEnemy/small_enemy.tscn" id="6_xkjjl"]
[ext_resource type="Script" path="res://Experiments/Spells/blink.gd" id="7_07yls"]

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_5c5vm"]
particle_flag_disable_z = true
spread = 40.0
initial_velocity_min = 439.21
initial_velocity_max = 603.39
orbit_velocity_min = 9.49949e-08
orbit_velocity_max = 9.49949e-08
radial_velocity_min = -2.23517e-05
radial_velocity_max = -2.23517e-05
gravity = Vector3(0, 0, 0)
linear_accel_min = 100.0
linear_accel_max = 200.0
radial_accel_min = 100.0
radial_accel_max = 100.0
scale_max = 3.0
turbulence_enabled = true

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6x6d8"]
size = Vector2(100, 10)

[node name="Spells" type="Node2D"]

[node name="Song" type="AudioStreamPlayer" parent="."]
process_priority = 5
process_physics_priority = 5
stream = ExtResource("1_tkckc")
volume_db = -25.995

[node name="Player" parent="." instance=ExtResource("5_07648")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 413, 198, 0)
base_speed = 5.0
damage = 1.0
dash_speed_factor = 8.0
dash_duration = 0.15
dash_cooldown = 2.0

[node name="Spells" type="Node2D" parent="Player"]
position = Vector2(2.08165e-12, 2.08165e-12)
script = ExtResource("1_5bb8a")

[node name="RichTextLabel" type="RichTextLabel" parent="Player/Spells"]
clip_contents = false
offset_left = -76.0
offset_top = -94.0
offset_right = -36.0
offset_bottom = -54.0
autowrap_mode = 0

[node name="ForcePush" type="Node2D" parent="Player/Spells"]
script = ExtResource("4_54giv")

[node name="Area2D" type="Area2D" parent="Player/Spells/ForcePush"]
scale = Vector2(1.5, 1.5)
collision_mask = 4

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Player/Spells/ForcePush/Area2D"]
polygon = PackedVector2Array(0, 0, 50, -50, 85, -45, 100, 0, 85, 45, 50, 50)

[node name="GPUParticles2D" type="GPUParticles2D" parent="Player/Spells/ForcePush"]
emitting = false
amount = 1000
process_material = SubResource("ParticleProcessMaterial_5c5vm")

[node name="Spike" type="Node2D" parent="Player/Spells"]
script = ExtResource("5_j71lg")

[node name="Area2D" type="Area2D" parent="Player/Spells/Spike"]
position = Vector2(16, 0)
scale = Vector2(1.5, 1.5)
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/Spells/Spike/Area2D"]
position = Vector2(39.3333, 0)
shape = SubResource("RectangleShape2D_6x6d8")

[node name="Polygon2D" type="Polygon2D" parent="Player/Spells/Spike"]
z_index = 5
color = Color(0.899258, 0.899258, 0.899258, 1)
polygon = PackedVector2Array(0, -3, 135, -3, 132, -7, 148, 0, 132, 7, 135, 3, 0, 3)

[node name="Projectile" type="Node2D" parent="Player/Spells"]
script = ExtResource("6_42axd")

[node name="Blink" type="Node2D" parent="Player/Spells"]
script = ExtResource("7_07yls")

[node name="Meter" parent="." instance=ExtResource("4_3d11i")]

[node name="SmallEnemy" parent="." instance=ExtResource("6_xkjjl")]
position = Vector2(769, 192)

[connection signal="body_entered" from="Player/Spells/ForcePush/Area2D" to="Player/Spells/ForcePush" method="_on_area_2d_body_entered"]
[connection signal="body_entered" from="Player/Spells/Spike/Area2D" to="Player/Spells/Spike" method="_on_area_2d_body_entered"]
